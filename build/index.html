<!DOCTYPE html>
<html lang="en">

<style>
    .load {
    width: 100px;
    height: 100px;
    position: absolute;
    top: 30%;
    left: 45%;
    color: blue;
    }
</style>


<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>


<body>

    

    <div class="container-fluid">
        <h1>Get your Pokemon</h1>
        <p>Inform the city for the hunter...</p> 

        <p style="color: red" id="erro"></p>

        <div class="col-xs-4">
            <label for="city">City:</label>
            <input type="text" class="form-control input-sm" id="city" >
        </div>

        <div class="col-xs-4">
            <div  id="temperature"></div>
            <br/>
            <div  id="namePoke"></div>
            <br/>
            <div  id="imagePoke"></div>

    </div>
    </div>
    <br/>
    <div class="col-xs-4">
        <button type="button" class="btn btn-default" onclick="fireCity()">HUNT</button>
    </div>

    <div class="load"> <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only"></span> </div>
   
    

</body>




<script>

    $(document).ready(function() {
        $('.load').hide(); 
    });

    function fireCity(){

        $("#namePoke").html( "" );
        $("#temperature").html( "" );
        $("#imagePoke").html( "" );
        $('.load').show();

        var city = $("#city").val();
      
        $.get( "http://172.17.0.2:8080/adtsys/api/search/find/"+city, function( data ) {
            
            $('.load').hide();
            
            if(data.erro != undefined){
                
                $("#erro").html( " Hey dud, look at this city man!! "+data.erro );

            }

            $("#namePoke").html( data[0].nome );
            $("#temperature").html( "Temperatura em tempo real: "+data[0].temperatura+" ÂºC" );
            $("#imagePoke").html( "<img src='"+data[0].imagem+"'/>" );
            
        });
    }

</script>

</html>